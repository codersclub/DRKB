---
Title: Как определить закрытие командного окна в консольном приложении?
Date: 01.01.2007
Source: DelphiWorld 6.0 <https://delphiworld.narod.ru/>
---

Как определить закрытие командного окна в консольном приложении?
================================================================

Консольные приложения Win32 запускаются в командном окне. Для того,
чтобы консольное приложение могло определить когда консоль закрывается,
надо зарегистрировать консольный обработчик управления и в выражении
case искать следующие значения:

- CTRL\_CLOSE\_EVENT - Пользователь закрывает консоль
- CTRL\_LOGOFF\_EVENT - Пользователь завершает сеанс работы (log off)
- CTRL\_SHUTDOWN\_EVENT - Пользователь выключает систему (shut down)

Как это делается, можно посмотреть в примере CONSOLE. Более подробную
информацию можно посмотреть в руководстве Win32 application programming
interface (API) в разделе SetConsoleCtrlhandler().


