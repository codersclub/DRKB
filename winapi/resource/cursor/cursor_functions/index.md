---
Title: Функции и процедуры для работы с курсором
Date: 01.01.2007
Source: <https://atrussk.ru/delphi/>
---

Функции и процедуры для работы с курсором
=========================================

**Функция CursorToIdent (Cursor: Longint;var Ident: string): Boolean;**

Функция возвращает строковое значение предопределенной константы,
определяющее вид курсора. Числовое значение, определяющее вид курсора,
передается в параметре Cursor. Строковое значение константы возвращается
в параметре Ident. Если для указанного числового значения, определяющего
вид курсора, есть соответствующая строковая константа, то функция
возвращает True, а иначе - False.

На практике возникают ситуации, когда необходимо, чтобы функция
возвращала в результате строковое значение даже в том случае, когда для
числового значения вида курсора, нет предопределенной строковой
константы. В данных ситуациях используйте функцию CursorToString

**Функция CursorToString( Cursor: TCursor ): string;**

    type TCursor = -32768...32767;

Функция возвращает строковое значение константы или числа,
соответствующих указанному виду курсора. Числовое значение, определяющее
вид курсора, передается в параметре Cursor. Если указанному значению
соответствует предопределенная строковая константа, то функция
возвращает имя этой константы, иначе возвращается строковое
представление значения переданного в параметре Cursor.

**Процедура GetCursorValues( Proc: TGetStrProc );**

    type TGetStrProc = Procedure( const S: string ) of Object;

Процедура передает каждое предопределенное в VCL имя курсора (значение
предопределенной строковой константы, определяющей вид курсора)
процедуре повторного вызова Proc.

**Функция IdentToCursor (const Ident: string; var Cursor: Longint ): Boolean;**

Функция возвращает числовое значение, соответствующее строковой
константе, определяющей вид курсора. Строковое значение передается в
параметре Ident. Числовое значение возвращается в переменной Cursor. При
успешном выполнении функция возвращает True, а если значение Ident не
является предопределенной константой, то функция возвращает False.Данная
функция обратна по функциональности функции CursorToIdent.

**Функция StringToCursor( const S: string ): TCursor;**

    type TCursor = -32768...32767;

Функция преобразовывает строковое значение S, определяющее вид курсора,
в значение типа TCursor. Функция обратна по функциональности функции
CursorToString. Параметр S должен представлять собой либо
предопределенную константу вида курсора, либо строковое представление
соответствующего ему числового значения, в противном случае возникнет
исключение EConvertError.

    var
      I1,I2: Longint;
    begin
      I1:= StringToCursor('crHelp'); // I1:= -20
      I2:= StringToCursor('-20'); // I2:= -20
    end;

