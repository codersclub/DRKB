---
Title: Как мне узнать о воздействии мыши на иконку, находящуюся на Tray?
Date: 01.01.2007
---

Как мне узнать о воздействии мыши на иконку, находящуюся на Tray?
=================================================================

::: {.date}
01.01.2007
:::

При  добавлении  иконки  на  Tray вы  указывали окно - обработчик
сообщения  и  сообщение (CallbackMessage). Теперь окно, указанное
вами  будет  при  любых  событиях  мыши, происходящих над иконкой
получать  сообщение,  указанное  при  добавлении иконки. При этом
параметры lParam и wParam будут задействованы следующим образом:

    (UINT)wParam   -   содержит ID иконки, над которой произошло
                       событие
    
    (UINT)lParam   -   содержит стандартное событие мыши, такое
                       как WM\_MOUSEMOVE или WM\_LBUTTONDOWN.

При  этом,  информация  о  клавишах  смены регистра, так же как и
местоположения  события, передаваемые при стандартных \" настоящих\"
сообщениях мыши, теряются.       Hо  положение  курсора  можно узнать
функцией GetCursorPos(), а состояние   клавиш   смены  регистра  -
функцией  GetKeyState(),  описанных в winuser.h.

Взято из FAQ:

<https://blackman.km.ru/myfaq/cont4.phtml%5Dhttp://blackman.km.ru/myfaq/cont4.phtml>
