Учимся работать с POP3 по Telnet\'у
===================================

::: {.date}
01.01.2007
:::

Учимся работать с POP3 по telnetу.

   Как люди получают почту, другими словами, вы никогда не задумывались,

что делает ваш почтовый клиент в интернете, чтобы получить ее?

Я попытаюсь удовлетворить ваше любопытство\...

Возможно будет несколько незнакомых терминов, но для их понимания
советую

почитать учебник по семейству протоколов TCP/IP.

Итак, в настройках почтового клиента вы вводите

smtp\_server ( сервер для передачи писем, написанных вами )

pop3\_server ( вот с ним-то мы и поэкспериментируем )

pop3\_login  ( требуются для регистрации на pop3\_server\'e )

pop3\_pass

При отправлении вашей почты клиент создает tcp-соединение

с адресом smtp\_server порт 25 и грубо говоря пихает в этот порт вашу
почту

plain текстом.

Если вы хотите получить свою почту, то почтовый клиент

a\) соединяется с pop3\_server на порт 110

b\) выполняет процедуру регистрации и

c\) скачивает письма и последовательно их удаляет.

Все это можно проделать и в ручную, чтобы :

1\) удовлетворить свое любопытство на практике

2\) посмотреть, в чем проблема, если почта не скачивается

3\) читать чужую почту ( если знаем pop3-login & pass )

4\) попробовать подобрать пароли на почту

Итак, сидя из Windows95, мы запускаем

telnet.exe с параметрами: pop3\_server 110

Таким образом, мы выполнили функцию a) клиента

Далее, получив приглашение

+OK sendmail POP3 Server (Version F.U.C.K) ready at \<01.01.80\>

мы можем вводить команды:

Команда              (в качестве ответа на них сервер выдает +OK
comments)

USER pop3\_login      Логин пользователя

PASS pop3\_pass       Пароль пользователя

LIST                 Посмотреть состояние ящика

STAT                 Скольно писем и какой объем

RETR X               Скачать письмо номер X

TOP  X  Y            Посмотреть Y строчек (начиная с тела) X письма

                     ( удобно, если ваш ящик забомбили большими файлами,

                     и вы можете удалить нужное письмо, не скачивая его)

                     В принципе это может делать The Bat! mailer

                     ( dispatch mail on server )

DELE X               Удалить письмо с номером X

QUIT                 Выход

Теперь мы удовлетворили любопытство и переходим к серьезным вещам.

2)  если существует проблема с регистрацией, то полные комментарии можно

    получить в отрицательном ответе сервера (\"-ERR\"), например

    USER lalal

    -ERR invalid usercode or password

3\) Читать чужую почту, по возможности не оставляя следов.

   Используем ТОЛЬКО команды RETR/TOP после регистрации.

   Естественно, не надо удалять письма командой DELE!

   Останутся ли следы ?

   В принципе при скачивании почты в письмо добавляется флаг

   Status: RO

   Он по умолчанию не виден в почтовом клиенте, но если включить что-то

   типа show raw message, то пользователь-параноик может понять, в чем
дело.

   =\> Если вы получаете почту с таким флагом, значит кто-то ее уже
прочитал.

4\) Подбор паролей по POP3

   В некоторых ( в большинстве?) демонах возможно неограниченное число
попыток

   регистрации на Pop3 сервере. Само собой, это можно использовать для
подбора

   паролей.

   Исходники под Unix pop3hack.c можно найти на www.rootshell.com

     Edited on 05/07/1999 23:52:26

     QWERTY.NANKO.RU

       
