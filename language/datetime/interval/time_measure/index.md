---
Title: Как засечь время?
Author: Даниил Карапетян (delphi4all\@narod.ru)
Date: 01.01.2007
---


Как засечь время?
=================

::: {.date}
01.01.2007
:::

Засекание обычно нужно в двух случаях: самому программисту - узнать,
как программа работает быстрее, или для информирования пользователя,
сколько программа уже трудится.

Для засекания времени удобнее всего использовать функцию GetTickCount,
но нельзя забывать о ее погрешности при измерении очень коротких
промежутков времени, и о том, что программы в Windows работают с
непостоянной скоростью. Поэтому не стоит засекать быстрые процессы, и не
стоит делать выводы о каком-то алгоритме после одного тестирования. И
еще. Если вы тестируете алгоритм, то поставьте его в цикл, выполнив его,
например, тысячу раз, а потом получившееся время делите на тысячу. Так
точнее. Эта программа засекает, сколько времени меняется цвет точек окна
в этой программе.

    procedure TForm1.Button1Click(Sender: TObject);
    var
      i, t: integer;
    begin
      t := GetTickCount;
      randomize;
      for i := 0 to 100000 do
        Form1.Canvas.Pixels[i mod Form1.ClientWidth, i div Form1.ClientWidth] := RGB(random(255), random(255), random(255));
      Form1.Caption := IntToStr(GetTickCount - t);
    end;

Автор: Даниил Карапетян (delphi4all\@narod.ru)

Автор справки: Алексей Денисов (aleksey\@sch103.krasnoyarsk.su)
