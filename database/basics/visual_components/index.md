---
Title: Визуальные компоненты для DB
Date: 01.01.2007
---


Визуальные компоненты для DB
============================

::: {.date}
01.01.2007
:::

Итак, мы не написав ни строчки кода получили простейшее приложение,
работающее с базой данных. С помощью него мы можем просматривать и
редактировать содержимое таблицы. Давайте теперь сделаем эту процедуру
немного удобнее, на закладке \"Data Control\" есть компонент
TDBNavigator. Положим его на форму и в инспекторе объектов поставим его
свойство DataSource указывающим на тот же DataSource1, что и для DBGrid
- собственно, теперь оба визуальных контрола(DBGrid и DBNavigator)
привязаны к одному и тому же DataSource и через него к одной и той же
таблицы. DBNavigator имеет несколько кнопок (вы можете настроить какие
именно вы хотите видеть) дающие лёгкий контроль над следующими
операциями:

(перечисление в порядке расположения кнопок)

  ---- --------------------------
  1)   Переход на первую запись
  ---- --------------------------

  ---- ------------------------------
  2)   Переход на предыдущую запись
  ---- ------------------------------

  ---- -----------------------------
  3)   Переход на следующую запись
  ---- -----------------------------

  ---- -----------------------------
  4)   Переход на последнюю запись
  ---- -----------------------------

  ---- -----------------
  5)   Добавить запись
  ---- -----------------

  ---- ----------------
  6)   Удалить запись
  ---- ----------------

  ---- ----------------------
  7)   Редактировать запись
  ---- ----------------------

  ---- ---------------------
  8)   Сохранить изменения
  ---- ---------------------

  ---- --------------------
  9)   Отменить изменения
  ---- --------------------

  ----- --------------------
  10)   Перечитать таблицу
  ----- --------------------

 

Обратите внимание, что запись (строка) таблицы есть как бы неделимый
квант информации - т.е. отменяются действия произведенные для всей
записи целиком, добавляется или удаляется тоже строка целиком.

Разберём ещё несколько визуальных компонентов, чтобы покончить с
визуализацией данных и перейти собственно к программированию.

На закладке Data Controls есть ещё несколько важных компонентов, давайте
поставим их на нашу форму: DBLabel, DBEdit, DBMemo и DBImage. Все их так
же как и DBGrid соединим с DataSource1. Однако здесь мы обнаружим что
этого недостаточно, эти компоненты работают с отдельной ячейкой в
таблице, поэтому мы должны указать ещё поле (столбец) который они будут
показывать.

Давайте сделаем следуюшие - для каждого из этих компонентов укажем
свойство DataField, например следующим образом:

DBLabel - ассоциируем с полем Category

DBEdit - ассоциируем с полем Common\_name

DBMemo - ассоциируем с полем Notes

DBImage - ассоциируем с полем Graphic

Можно откомпилировать программу и немного поиграться с ней. Итак что мы
можем здесь увидеть? Что в каждый данный момент времени из всей таблицы
у нас есть запись которая активная (текущая) - в DBGrid она показывается
треугольничком слева. Именно с этой единственной записью мы и можем
оперировать - удалять, добавлять, редактировать, именно её содержимое
отображается в DBLabel, DBEdit, DBMemo, DBImage и именно она может быть
изменена при помощи этих компонентов. Описанная только что структура
позволяет работать только с одной записью в определённый момент времени,
если вы переходите на другую запись то все изменения должны быть либо
запомнены либо отменены! По умолчанию они запоминаются без всяких
запросов, в чём вы можете убедиться меняя значения и переходя на другую
запись.
