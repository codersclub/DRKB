---
Title: Переход с Oracle на InterBase
Author: Shawn Wu
Date: 01.01.2007
---


Переход с Oracle на InterBase
=============================

::: {.date}
01.01.2007
:::

Автор: Shawn Wu

Я пытаюсь преобразовать мою базу данных на Oracle в базу данных local
Interbase server. Все таблицы Oracle ссылаются на имя схемы. Interbase
поддерживает такого типа имена схем?

Нет, Interbase не использует понятие классификатора таблицы (владельца),
как это делают другие сервера, например, Oracle или Sybase. Наилучшее
решение в этом случае - использование директив компиляции, позволяющее
контролировать соглашение о стиле имен Oracle или Interbase,
используемое в генерируемом .exe-файле.

Также, Delphi читает все атрибуты Oracle типа Number и конвертирует их в
FloatField. Interbase при этом использует тип SmallIntField. Так, для
преобразования необходимо пройтись по всем таблицам, удалить поля и
затем снова их добавить. Можно это сделать как-то по-человечески?

Если я правильно понял то, что вы хотели сказать, то этот вопрос
относится к специфике Interbase. Например, Interbase использует короткое
поле (short field) с масштабированием вместо реального типа, если
заданная при создании таблицы точность не превышает 10. \[например,
CREATE TABLE xxx (FLOATFIELD NUMERIC (5, 2)) обычно означает реальный
тип с точностью 5 цифр с 2-мя цифрами после запятой. Но Interbase знает,
что сможет поместить 5 цифр в короткое поле, поэтому она создаст
короткое поле и запись и смасштабирует его с коэффициентом 2.\] Проблема
в следующем: BDE "спрашивает" Interbase о полях таблицы и их типах,
Interbase честно рапортует, что поля имеют тип short, т.е. они
"короткие". Но BDE ничего не знает о масштабировании.

Чтобы обойти этот неприятный момент, необходимо создать поле с точностью
более 10, заставляя Interbase делать поля реального, а не короткого
типа.

Могу ли я менять один тип SQL на другой, или это - несбыточная мечта?

Проблема в том, что каждый производитель создал свой диалект и
реализацию SQL, который не обязательно был совместимым с SQL других
производителей, особенно в рамках расширений "стандартного" SQL.

Существует ли возможность инкапсуляции общего кода для работы с базой
данных от специфических реализаций конкретных версий баз, что позволило
бы клиенту легко переходить от одного типа таблиц к другому?

Как я уже говорил выше: директивы компилятора.

Взято с <https://delphiworld.narod.ru>
